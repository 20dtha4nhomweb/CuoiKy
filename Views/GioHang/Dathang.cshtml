@model IEnumerable<CuoiKy.Models.GioHang>

@{
    ViewBag.Title = "Dathang";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<head>
    <meta charset="UTF-8">
    <title>Chamb - Responsive E-commerce HTML5 Template</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--enable mobile device-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--fontawesome css-->
    <link rel="stylesheet" href="~/Content/MakeColor/css/font-awesome.min.css">
    <!--bootstrap css-->
    <link rel="stylesheet" href="~/Content/MakeColor/css/bootstrap.min.css">
    <!--animate css-->
    <link rel="stylesheet" href="~/Content/MakeColor/css/animate-wow.css">
    <!--main css-->
    <link rel="stylesheet" href="~/Content/MakeColor/css/style.css">
    <link rel="stylesheet" href="~/Content/MakeColor/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="~/Content/MakeColor/css/slick.min.css">
    <!--responsive css-->
    <link rel="stylesheet" href="~/Content/MakeColor/css/responsive.css">
</head>

<h2>Dathang</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.MaSP)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SanPham.TenSanPham)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SanPham.HinhAnh)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SanPham.Gia)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SoLuong)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ThanhTien)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.MaSP)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SanPham.TenSanPham)
            </td>
            <td>
                <img src="@Html.DisplayFor(modelItem => item.SanPham.HinhAnh)" width="180" alt="Alternate Text" />
            </td>
            @using (Html.BeginForm("CapnhatGiohang", "GioHang", new { @id = item.MaSP }))
            {
                <td>@String.Format("0:0,0", item.SanPham.Gia) VND</td>
                <td>@Html.DisplayFor(ModelItem => item.SoLuong)</td>
                <td>@Html.DisplayFor(ModelItem => item.ThanhTien)</td>
            }
            <td>
                @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
            </td>
        </tr>
    }
    <tr style="font-weight: bold; text-align: right; color: red">
        <td colspan="3">Số lượng sách: @ViewBag.TongSoLuong</td>
        <td colspan="4">Số loại sách: @ViewBag.TongSoLuongSanPham</td>
        <td colspan="5">Tổng tiền: @String.Format("0:0,0", @ViewBag.TongTien) VND</td>
    </tr>
    <tr style="font-weight: bold; text-align: right">
        <td colspan="6">
            @Html.ActionLink("Trở về giỏ hàng", "GioHang", "GioHang")
        </td>
    </tr>

</table>

@using CuoiKy.Models
<h2 style="text-align: center">Thông tin đặt hàng</h2>
@{
    
    TaiKhoan tk = (TaiKhoan)Session["FullTaiKhoan"];


}
<table align="center">
    @using (Html.BeginForm())
    {
        @Html.ValidationSummary(true)
        <tr style="height: 40px">
            <td>Họ tên khách hàng: </td>
            <td style="font-weight: bold">@tk.TenKhachHang</td>
        </tr>
        <tr style="height: 40px">
            <td>Email</td>
            <td style="font-weight: bold">@tk.Email</td>
        </tr>
        <tr style="height: 40px">
            <td>Địa chỉ: </td>
            <td style="font-weight: bold">@tk.DiaChi</td>
        </tr>
        <tr style="height: 40px">
            <td>Điện thoại: </td>
            <td style="font-weight: bold">@tk.SDT</td>
        </tr>
        <tr style="height: 40px">
            <td>Ngày đặt: </td>
            <td style="font-weight: bold">@DateTime.Now.ToShortDateString()</td>
        </tr>
        <tr style="height: 40px">
            <td>Ngày giao: </td>
            <td style="font-weight: bold">
                <input type="date" name="NgayGiao" />
            </td>
        </tr>
        <tr style="height: 40px">
            <td>Ngày giao: </td>
            <td style="font-weight: bold">
                <input type="submit" value="Xác nhận" class="btn btn-success" />
            </td>
        </tr>
    }
</table>
